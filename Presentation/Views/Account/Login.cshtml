@model LoginViewModel
@{
	ViewData["Title"] = "Sign In";
	Layout = "_Layout";
}

<div class="auth-wrapper border-0">
	<div class="auth-left">
		<h1 class="fw-bold display-5 mb-4">Welcome Back</h1>
		<p class="lead mb-4">Glad to see you again! Log in to continue managing your workforce.</p>
		<p class="small opacity-75">
			StaffHub is your all-in-one platform for managing staff effectively and efficiently.
		</p>
		<div class="circle one"></div>
		<div class="circle two"></div>
	</div>

	<div class="auth-right">
		<h2 class="mb-2 fw-bold text-dark">Sign In</h2>
		<p class="text-muted mb-4">Please enter your credentials</p>
		
		<form asp-action="Login" method="post">
			<div class="mb-3">
				<label asp-for="Email" class="form-label fw-medium"></label>
				<input asp-for="Email" class="form-control bg-light border-0" placeholder="name@company.com" />
				<span asp-validation-for="Email" class="text-danger small"></span>
			</div>

			<div class="mb-3 position-relative">
				<label asp-for="Password" class="form-label fw-medium"></label>
				<div class="input-group">
					<input asp-for="Password" type="password" class="form-control bg-light border-0 pe-5" id="passwordInput" placeholder="Enter password" />
					<button type="button" class="btn position-absolute end-0 top-0 h-100 border-0 bg-transparent text-muted px-3" onclick="togglePassword()" tabindex="-1" style="z-index: 10;">
						<i class="bi bi-eye" id="toggleIcon"></i>
					</button>
				</div>
				<span asp-validation-for="Password" class="text-danger small"></span>
			</div>

			<div class="d-flex justify-content-between align-items-center mb-4">
				<div class="form-check">
					<input asp-for="RememberMe" class="form-check-input" />
					<label asp-for="RememberMe" class="form-check-label small text-muted"></label>
				</div>
				<a asp-action="ForgotPassword" class="small text-primary text-decoration-none fw-medium">Forgot Password?</a>
			</div>

			<button type="submit" class="btn btn-primary w-100 mb-3 py-3 shadow-sm rounded-pill">
				Log In <i class="bi bi-arrow-right ms-2"></i>
			</button>

			<p class="text-center text-muted mb-0 small">
				Don't have an account? <a asp-action="Register" class="text-primary fw-bold text-decoration-none">Sign Up Now</a>
			</p>
		</form>
	</div>
</div>

@section Scripts {
	<partial name="_ValidationScriptsPartial" />
	<script>
		function togglePassword() {
			const passwordInput = document.getElementById('passwordInput');
			const icon = document.getElementById('toggleIcon');
			const type = passwordInput.getAttribute('type');

			if (type === 'password') {
				passwordInput.setAttribute('type', 'text');
				icon.classList.remove('bi-eye');
				icon.classList.add('bi-eye-slash');
			} else {
				passwordInput.setAttribute('type', 'password');
				icon.classList.remove('bi-eye-slash');
				icon.classList.add('bi-eye');
			}
		}
	</script>
}
